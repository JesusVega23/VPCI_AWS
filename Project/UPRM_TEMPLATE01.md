{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Metadata": {
        "AWS::CloudFormation::Designer": {
            "d7fb8904-4c46-4b4f-8cd1-a15f6fbee391": {
                "size": {
                    "width": 950,
                    "height": 460
                },
                "position": {
                    "x": -960,
                    "y": -1170
                },
                "z": 0,
                "embeds": [
                    "be6d7d9a-4792-4cad-9126-f55a0715f022",
                    "9c473c0b-55e7-4486-b321-5a299abaf276",
                    "0c2be328-b5bd-42b9-b290-8a0c6b73631d",
                    "0dc61672-c5c0-442b-b906-2529d0d12db5",
                    "5ad4d473-88d2-402f-989a-3ac1c868e128",
                    "f9df254d-912d-4922-ae0a-d8209fa0ac27"
                ]
            },
            "f9df254d-912d-4922-ae0a-d8209fa0ac27": {
                "size": {
                    "width": 240,
                    "height": 240
                },
                "position": {
                    "x": -910,
                    "y": -1030
                },
                "z": 1,
                "parent": "d7fb8904-4c46-4b4f-8cd1-a15f6fbee391",
                "embeds": [
                    "38772cd9-959d-4c01-98e6-f602a3bc7239",
                    "8fae3a96-8c9d-43a8-bb2e-06875d1e1d9a",
                    "43586e49-3fc0-4698-94e8-a54cb1ecb516"
                ]
            },
            "be6d7d9a-4792-4cad-9126-f55a0715f022": {
                "size": {
                    "width": 290,
                    "height": 200
                },
                "position": {
                    "x": -340,
                    "y": -1050
                },
                "z": 1,
                "parent": "d7fb8904-4c46-4b4f-8cd1-a15f6fbee391",
                "embeds": [
                    "9f38e4b9-76f1-47a6-8d96-74be33603d42",
                    "69860ffe-b188-4bc0-940e-1f14dfccd043"
                ]
            },
            "d100f7f8-b406-481c-af0c-485d7f975a29": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -620,
                    "y": -1130
                },
                "z": 2,
                "parent": "f9df254d-912d-4922-ae0a-d8209fa0ac27",
                "embeds": []
            },
            "9f38e4b9-76f1-47a6-8d96-74be33603d42": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -160,
                    "y": -970
                },
                "z": 2,
                "parent": "be6d7d9a-4792-4cad-9126-f55a0715f022",
                "embeds": []
            },
            "a0a18ae2-0281-48b1-a0ae-33d6d9e44f7b": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -620,
                    "y": -1030
                },
                "z": 2,
                "parent": "f9df254d-912d-4922-ae0a-d8209fa0ac27",
                "embeds": []
            },
            "0dc61672-c5c0-442b-b906-2529d0d12db5": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -540,
                    "y": -840
                },
                "z": 1,
                "parent": "d7fb8904-4c46-4b4f-8cd1-a15f6fbee391",
                "embeds": []
            },
            "5ad4d473-88d2-402f-989a-3ac1c868e128": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -450,
                    "y": -840
                },
                "z": 1,
                "parent": "d7fb8904-4c46-4b4f-8cd1-a15f6fbee391",
                "embeds": []
            },
            "1cae5c27-9cab-445b-ba47-08dc572c81e0": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -540,
                    "y": -960
                },
                "z": 2,
                "parent": "0c2be328-b5bd-42b9-b290-8a0c6b73631d",
                "embeds": []
            },
            "0c2be328-b5bd-42b9-b290-8a0c6b73631d": {
                "size": {
                    "width": 120,
                    "height": 120
                },
                "position": {
                    "x": -580,
                    "y": -1010
                },
                "z": 1,
                "parent": "d7fb8904-4c46-4b4f-8cd1-a15f6fbee391",
                "embeds": [
                    "1cae5c27-9cab-445b-ba47-08dc572c81e0"
                ],
                "dependson": [
                    "9c473c0b-55e7-4486-b321-5a299abaf276"
                ]
            },
            "4ab8d418-4636-49c7-b533-45b7dbb16159": {
                "source": {
                    "id": "0c2be328-b5bd-42b9-b290-8a0c6b73631d"
                },
                "target": {
                    "id": "d7fb8904-4c46-4b4f-8cd1-a15f6fbee391"
                },
                "z": 3
            },
            "9c473c0b-55e7-4486-b321-5a299abaf276": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -520,
                    "y": -1160
                },
                "z": 1,
                "parent": "d7fb8904-4c46-4b4f-8cd1-a15f6fbee391",
                "embeds": [],
                "dependson": [
                    "0c2be328-b5bd-42b9-b290-8a0c6b73631d",
                    "d7fb8904-4c46-4b4f-8cd1-a15f6fbee391"
                ]
            },
            "3d10cc46-6a74-4f87-95ae-3abd963f2237": {
                "source": {
                    "id": "9c473c0b-55e7-4486-b321-5a299abaf276"
                },
                "target": {
                    "id": "d7fb8904-4c46-4b4f-8cd1-a15f6fbee391"
                },
                "z": 1
            },
            "ea44d407-cd09-4b2e-87ba-e38eb5509685": {
                "source": {
                    "id": "0c2be328-b5bd-42b9-b290-8a0c6b73631d"
                },
                "target": {
                    "id": "f9df254d-912d-4922-ae0a-d8209fa0ac27"
                },
                "z": 1
            },
            "e3665209-5dda-4d1f-a49e-ec4922b363a3": {
                "source": {
                    "id": "0c2be328-b5bd-42b9-b290-8a0c6b73631d"
                },
                "target": {
                    "id": "be6d7d9a-4792-4cad-9126-f55a0715f022"
                },
                "z": 1
            },
            "43586e49-3fc0-4698-94e8-a54cb1ecb516": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -780,
                    "y": -930
                },
                "z": 2,
                "parent": "f9df254d-912d-4922-ae0a-d8209fa0ac27",
                "embeds": [],
                "dependson": [
                    "3d10cc46-6a74-4f87-95ae-3abd963f2237"
                ]
            },
            "9e9f0475-c37a-4a79-ad9d-98100938e4fe": {
                "source": {
                    "id": "43586e49-3fc0-4698-94e8-a54cb1ecb516"
                },
                "target": {
                    "id": "3d10cc46-6a74-4f87-95ae-3abd963f2237"
                },
                "z": 3
            },
            "69860ffe-b188-4bc0-940e-1f14dfccd043": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -280,
                    "y": -970
                },
                "z": 2,
                "parent": "be6d7d9a-4792-4cad-9126-f55a0715f022",
                "embeds": []
            },
            "bad629d1-2422-45ff-8c0f-2edbac8f5d44": {
                "source": {
                    "id": "5ad4d473-88d2-402f-989a-3ac1c868e128"
                },
                "target": {
                    "id": "0dc61672-c5c0-442b-b906-2529d0d12db5"
                },
                "z": 1
            },
            "38772cd9-959d-4c01-98e6-f602a3bc7239": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -880,
                    "y": -990
                },
                "z": 2,
                "parent": "f9df254d-912d-4922-ae0a-d8209fa0ac27",
                "embeds": []
            },
            "8fae3a96-8c9d-43a8-bb2e-06875d1e1d9a": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -880,
                    "y": -890
                },
                "z": 2,
                "parent": "f9df254d-912d-4922-ae0a-d8209fa0ac27",
                "embeds": []
            },
            "68d6b9a7-8b0b-4460-9a59-1964d157ecb7": {
                "source": {
                    "id": "9c473c0b-55e7-4486-b321-5a299abaf276"
                },
                "target": {
                    "id": "0c2be328-b5bd-42b9-b290-8a0c6b73631d"
                },
                "z": 3
            },
            "ab14091b-74e6-4752-8cb2-f664adcca407": {
                "source": {
                    "id": "0c2be328-b5bd-42b9-b290-8a0c6b73631d"
                },
                "target": {
                    "id": "9c473c0b-55e7-4486-b321-5a299abaf276"
                },
                "z": 4
            },
            "ef9a26bb-9ae1-4f44-8919-789e39cfb2c7": {
                "source": {
                    "id": "9c473c0b-55e7-4486-b321-5a299abaf276"
                },
                "target": {
                    "id": "d7fb8904-4c46-4b4f-8cd1-a15f6fbee391"
                },
                "z": 1
            }
        }
    },
    "Resources": {
        "VPC01UPRMP": {
            "Type": "AWS::EC2::VPC",
            "Properties": {
                "EnableDnsHostnames": true
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "d7fb8904-4c46-4b4f-8cd1-a15f6fbee391"
                }
            }
        },
        "UPRM03USE1b": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
             
                "VpcId": {
                    "Ref": "VPC01UPRMP"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "f9df254d-912d-4922-ae0a-d8209fa0ac27"
                }
            }
        },
        "EC2VPCG55DRD": {
            "Type": "AWS::EC2::VPCGatewayAttachment",
            "Properties": {
                "InternetGatewayId": {
                    "Ref": "IGWUPR"
                },
                "VpcId": {
                    "Ref": "VPC01UPRMP"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3d10cc46-6a74-4f87-95ae-3abd963f2237"
                }
            }
        },
        "EC2SRTAEHET": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "RouteTableId": {
                    "Ref": "RutePvPu"
                },
                "SubnetId": {
                    "Ref": "UPRM03USE1b"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "ea44d407-cd09-4b2e-87ba-e38eb5509685"
                }
            }
        },
        "EC2SRTA2KGJA": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "RouteTableId": {
                    "Ref": "RutePvPu"
                },
                "SubnetId": {
                    "Ref": "UPRM01USE1a"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "e3665209-5dda-4d1f-a49e-ec4922b363a3"
                }
            }
        },
        "NATGateway": {
            "Type": "AWS::EC2::NatGateway",
            "Properties": {
                "SubnetId": {
                    "Ref": "UPRM03USE1b"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "43586e49-3fc0-4698-94e8-a54cb1ecb516"
                }
            },
            "DependsOn": [
                "EC2VPCG55DRD"
            ]
        },
        "EC2SGEO39B": {
            "Type": "AWS::EC2::SecurityGroupEgress",
            "Properties": {
                "GroupId": {
                    "Ref": "SG1aMVL"
                },
                "DestinationSecurityGroupId": {
                    "Ref": "SG1bMV"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "bad629d1-2422-45ff-8c0f-2edbac8f5d44"
                }
            }
        },
        "SG1aMVL": {
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": {
                "VpcId": {
                    "Ref": "VPC01UPRMP"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "5ad4d473-88d2-402f-989a-3ac1c868e128"
                }
            }
        },
        "SG1bMV": {
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": {
                "VpcId": {
                    "Ref": "VPC01UPRMP"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "0dc61672-c5c0-442b-b906-2529d0d12db5"
                }
            }
        },
        "RutePvPu": {
            "Type": "AWS::EC2::RouteTable",
            "Properties": {
                "VpcId": {
                    "Ref": "VPC01UPRMP"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "0c2be328-b5bd-42b9-b290-8a0c6b73631d"
                }
            },
            "DependsOn": [
                "IGWUPR"
            ]
        },
        "InstanceA01": {
            "Type": "AWS::EC2::Instance",
            "Properties": {
                "SubnetId": {
                    "Ref": "UPRM01USE1a"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "69860ffe-b188-4bc0-940e-1f14dfccd043"
                }
            }
        },
        "InstanceA02": {
            "Type": "AWS::EC2::Instance",
            "Properties": {
                "SubnetId": {
                    "Ref": "UPRM01USE1a"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "9f38e4b9-76f1-47a6-8d96-74be33603d42"
                }
            }
        },
        "InstanceB02": {
            "Type": "AWS::EC2::Instance",
            "Properties": {
                "SubnetId": {
                    "Ref": "UPRM03USE1b"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "8fae3a96-8c9d-43a8-bb2e-06875d1e1d9a"
                }
            }
        },
        "InstanceB01": {
            "Type": "AWS::EC2::Instance",
            "Properties": {
                "SubnetId": {
                    "Ref": "UPRM03USE1b"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "38772cd9-959d-4c01-98e6-f602a3bc7239"
                }
            }
        },
        "RoutePrivate": {
            "Type": "AWS::EC2::Route",
            "Properties": {
                "RouteTableId": {
                    "Ref": "RutePvPu"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "1cae5c27-9cab-445b-ba47-08dc572c81e0"
                }
            }
        },
        "IGWUPR": {
            "Type": "AWS::EC2::InternetGateway",
            "Properties": {},
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "9c473c0b-55e7-4486-b321-5a299abaf276"
                }
            },
            "DependsOn": [
                "VPC01UPRMP"
            ]
        },
        "UPRM01USE1a": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "VpcId": {
                    "Ref": "VPC01UPRMP"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "be6d7d9a-4792-4cad-9126-f55a0715f022"
                }
            }
        },
        "EC2VPCG43NVS": {
            "Type": "AWS::EC2::VPCGatewayAttachment",
            "Properties": {
                "InternetGatewayId": {
                    "Ref": "IGWUPR"
                },
                "VpcId": {
                    "Ref": "VPC01UPRMP"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "ef9a26bb-9ae1-4f44-8919-789e39cfb2c7"
                }
            }
        }
    }
}
